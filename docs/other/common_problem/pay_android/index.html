<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../../img/favicon.ico">
        <title>推送服务Android - Bmob文档中心</title>
        <link href="../../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../../css/font-awesome-4.5.0.css" rel="stylesheet">
        <link href="../../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="../../../css/highlight.css">
        <link href="../../../css/custom.css" rel="stylesheet" id="custom">
        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        <script src="../../../js/jquery-1.10.2.min.js"></script>
        <script src="../../../js/bootstrap-3.0.3.min.js"></script>
        <script src="../../../js/highlight.pack.js"></script>
        <script src="../../../js/main.js"></script> 
    </head>

    <body>

        <div class="navbar navbar-fixed-top" role="navigation">
    <div class="main-nav">
        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="../../..">
                <!--Bmob文档中心-->
                <img src="../../../img/logo.png" alt="">
            </a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">

          <ul class="nav navbar-nav">
            
              <li class="pull-left">
                
					<a href="../../..">文档首页</a>
                
              </li>
            
              <li class="pull-left">
                
					<!--<a href="">数据服务</a>-->
					<li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">数据服务 <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
								<li >
									<a href="../../../data/android/">Android SDK</a>
                                </li>
                            
                            
								<li >
									<a href="../../../data/ios/">iOS SDK</a>
                                </li>
                            
                            
								<li >
									<a href="../../../data/wechat_app/">小程序</a>
                                </li>
                            
                            
								<li >
									<a href="../../../data/cocos2d_x/">Cocos2D-X</a>
                                </li>
                            
                            
								<li >
									<a href="../../../data/csharp/">C# SDK</a>
                                </li>
                            
                            
								<li >
									<a href="../../../data/go/">GO</a>
                                </li>
                            
                            
								<li >
									<a href="../../../data/javascript/">JavaScript</a>
                                </li>
                            
                            
								<li >
									<a href="../../../data/php/">PHP</a>
                                </li>
                            
                            
								<li >
									<a href="../../../data/restful/">RESTful</a>
                                </li>
                            
                        </ul>
                    </li>
                
              </li>
            
              <li class="pull-left">
                
					<!--<a href="">云函数</a>-->
					<li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">云函数 <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
								<li >
									<a href="../../../cloud_function/android/">Android SDK</a>
                                </li>
                            
                            
								<li >
									<a href="../../../cloud_function/ios/">iOS SDK</a>
                                </li>
                            
                            
								<li >
									<a href="../../../cloud_function/java/">Java 云函数</a>
                                </li>
                            
                            
								<li >
									<a href="../../../cloud_function/javascript/">JavaScript</a>
                                </li>
                            
                            
								<li >
									<a href="../../../cloud_function/csharp/">C#</a>
                                </li>
                            
                            
								<li >
									<a href="../../../cloud_function/php/">PHP</a>
                                </li>
                            
                            
								<li >
									<a href="../../../cloud_function/restful/">RESTful</a>
                                </li>
                            
                            
								<li >
									<a href="../../../cloud_function/web/">Web</a>
                                </li>
                            
                        </ul>
                    </li>
                
              </li>
            
              <li class="pull-left">
                
					<!--<a href="">支付服务</a>-->
					<li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">支付服务 <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
								<li >
									<a href="../../../pay/android/">Android SDK</a>
                                </li>
                            
                            
								<li >
									<a href="../../../pay/ios/">iOS SDK</a>
                                </li>
                            
                            
								<li >
									<a href="../../../pay/restful/">RESTful</a>
                                </li>
                            
                        </ul>
                    </li>
                
              </li>
            
              <li class="pull-left">
                
					<!--<a href="">短信服务</a>-->
					<li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">短信服务 <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
								<li >
									<a href="../../../sms/android/">Android SDK</a>
                                </li>
                            
                            
								<li >
									<a href="../../../sms/ios/">iOS SDK</a>
                                </li>
                            
                            
								<li >
									<a href="../../../sms/javascript/">JavaScript</a>
                                </li>
                            
                            
								<li >
									<a href="../../../sms/php/">PHP</a>
                                </li>
                            
                            
								<li >
									<a href="../../../sms/restful/">RESTful</a>
                                </li>
                            
                        </ul>
                    </li>
                
              </li>
            
              <li class="pull-left">
                
					<!--<a href="">IM服务</a>-->
					<li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">IM服务 <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
								<li >
									<a href="../../../im/android/">Android SDK</a>
                                </li>
                            
                            
								<li >
									<a href="../../../im/ios/">iOS SDK</a>
                                </li>
                            
                        </ul>
                    </li>
                
              </li>
            
              <li class="pull-left">
                
					<!--<a href="">推送服务</a>-->
					<li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">推送服务 <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
								<li >
									<a href="../../../push/android/">Android SDK</a>
                                </li>
                            
                            
								<li >
									<a href="../../../push/ios/">iOS SDK</a>
                                </li>
                            
                            
								<li >
									<a href="../../../push/javascript/">JavaScript</a>
                                </li>
                            
                            
								<li >
									<a href="../../../push/php/">PHP</a>
                                </li>
                            
                            
								<li >
									<a href="../../../push/restful/">RESTful</a>
                                </li>
                            
                        </ul>
                    </li>
                
              </li>
            
              <li class="pull-left active">
                
					<!--<a href="">其他</a>-->
					<li class="dropdown active">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">其他 <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
								<li class="active">
									<a href="../">常见问题</a>
                                </li>
                            
                            
                                <li >
                                    <a href="../../error_code/">错误码</a>
                                </li>
							
                            
                                <li >
                                    <a href="../../data_safety/">数据安全</a>
                                </li>
							
                            
                                <li >
                                    <a href="../../bql/">BQL</a>
                                </li>
							
                        </ul>
                    </li>
                
              </li>
            
              <li>
                  <a href="https://www.bmob.cn/repository/index" target="_blank">知识库</a>
              </li>
              <li>
                  <a href="https://www.bmob.cn/downloads" target="_blank">下载</a>
              </li>
            </ul>

            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa fa-search"></i> 搜索
                    </a>
                </li>

              <!---->
                <!---->
                    <!--<li >-->
                        <!--<a rel="next" href="../pay/">-->
                            <!--<i class="fa fa-arrow-left"></i> Previous-->
                        <!--</a>-->
                    <!--</li>-->
                    <!--<li >-->
                        <!--<a rel="prev" href="../sms/">-->
                            <!--Next <i class="fa fa-arrow-right"></i>-->
                        <!--</a>-->
                    <!--</li>-->
                <!---->
              <!---->

              <!---->
                <!---->
                    <!--<li>-->
                        <!--<a href="https://github.com/bmob/bmobdocs/edit/master/docs/other/common_problem/pay_android.md">-->
                            <!---->
                                <!--<i class="fa fa-github"></i> Edit on GitHub-->
                            <!---->
                        <!--</a>-->
                    <!--</li>-->
                <!---->
              <!---->
            </ul>
        </div>
    </div>
</div>
        <div class="pagebody">
                <div class="sidebar">
                    <div class="bs-sidebar hidden-print affix well" role="complementary">

	
		
	
		
				
				
				
				
				
				
				
				
				
		
	
		
				
				
				
				
				
				
				
				
		
	
		
				
				
				
		
	
		
				
				
				
				
				
		
	
		
				
				
		
	
		
				
				
				
				
				
		
	
		
				
					<div class="code-title">常见问题</div>
				
				
				
				
		
	


	<ul class="nav bs-sidenav">
		
			
		
			
		
			
		
			
		
			
		
			
		
			
		
			
				
					
						
							
								
									<li class="">
										<a class="itm-l1" href="../">平台常见问题</a>
										
									</li>
								
									<li class="">
										<a class="itm-l1" href="../data/">数据服务</a>
										
									</li>
								
									<li class="">
										<a class="itm-l1" href="../data_android/">数据服务Android</a>
										
									</li>
								
									<li class="">
										<a class="itm-l1" href="../data_ios/">数据服务iOS</a>
										
									</li>
								
									<li class="">
										<a class="itm-l1" href="../data_cocos2d-x/">数据服务Cocos2d-X</a>
										
									</li>
								
									<li class="">
										<a class="itm-l1" href="../data_csharp/">数据服务C#</a>
										
									</li>
								
									<li class="">
										<a class="itm-l1" href="../data_javascript/">数据服务JavaScript</a>
										
									</li>
								
									<li class="">
										<a class="itm-l1" href="../data_php/">数据服务PHP</a>
										
									</li>
								
									<li class="">
										<a class="itm-l1" href="../data_restful/">数据服务RESTful</a>
										
									</li>
								
									<li class="">
										<a class="itm-l1" href="../cloud_function/">云函数</a>
										
									</li>
								
									<li class="">
										<a class="itm-l1" href="../cloud_function_ios/">云函数iOS</a>
										
									</li>
								
									<li class="">
										<a class="itm-l1" href="../im/">IM服务</a>
										
									</li>
								
									<li class="">
										<a class="itm-l1" href="../im_android/">IM服务Android</a>
										
									</li>
								
									<li class="">
										<a class="itm-l1" href="../im_ios/">IM服务iOS</a>
										
									</li>
								
									<li class="">
										<a class="itm-l1" href="../push/">推送服务</a>
										
									</li>
								
									<li class="">
										<a class="itm-l1" href="../push_android/">推送服务Android</a>
										
									</li>
								
									<li class="">
										<a class="itm-l1" href="../push_ios/">推送服务iOS</a>
										
									</li>
								
									<li class="">
										<a class="itm-l1" href="../pay/">支付服务</a>
										
									</li>
								
									<li class="active">
										<a class="itm-l1" href="./">推送服务Android</a>
										
										<ul class="nav">
											
											<li class="active "><a href="#android">Android 常见问题</a>
												
											</li>
												
										</ul>
										
									</li>
								
									<li class="">
										<a class="itm-l1" href="../sms/">短信服务</a>
										
									</li>
								
									<li class="">
										<a class="itm-l1" href="../sms_ios/">短信服务</a>
										
									</li>
								
							
						
					
						
					
						
					
						
					
				
			
		
	</ul>
</div>
                </div>
                <div class="content" role="main">
                    <div class="wrap">
                        

<h1 id="android">Android 常见问题</h1>
<p>Q:网页支付的地址到底是什么？(php支付接口报异常)</p>
<p>A:因为支付宝安全团队封杀的问题，网页支付暂时不支持，待寻求到解决方案再开放。</p>
<hr />
<p>Q:支付 弹出"抱歉，该商户未开通支付宝服务，无法付款"</p>
<p>A:如果出现这种情况则表示支付宝账号并封了，bmob需要一定的时间去申请账号重新恢复。</p>
<hr />
<p>Q:新版的Android的Bmob Pay一直提示插件已过期
运行BP.pay()后会弹出toast显示“bmob pay plugin is out-of-date, please update it”
已经换成5月31日最新版本的sdk了，还是不行</p>
<p>A:versionCode必须为6和6以上的才是最新版，你可以通过高BP.getPluginVersion来获取</p>
<hr />
<p>Q:新版支付SDK里的demo换成我自己的appID为什么不能支付，用Demo里的appID就可以？</p>
<p>A:请创建自己的应用，用自己的appId使用支付SDK。具体的使用方法可以参考Demo和文档。</p>
<hr />
<p>Q:微信支付总是返回错误码10003， 是什么原因? 支付宝可以正常使用</p>
<p>A:商品名或者商品描述不符合规范，或者是金额不是double</p>
<hr />
<p>Q:移动支付功能是否支持类似美团这种，用户购买了优惠券，资金暂存在我的账户，然后到期后，再由我把钱打给商家</p>
<p>A:购买优惠券存到您的账户可以用我们的支付来实现，您的钱打给商家需要自行实现</p>
<hr />
<p>Q:Android客户端支付后如何反馈到自己的服务器</p>
<p>A:在web端的“支付”--&gt;”支付配置“里可以填上你自己服务器的url地址，支付成功时会往这个地址发送一些订单成功的数据。</p>
<hr />
<p>Q:新版Android支付SDK在虚拟机下测试报错</p>
<p>A:虚拟机上有很多的问题，不支持虚拟机调试。</p>
<hr />
<p>Q:微信支付插件在哪里？</p>
<p>A:下载Bmob Android SDK之后，解压，可以看到 assets 文件夹下有一个 BmobPayPlugin.apk ，就是插件</p>
<hr />
<p>Q:支付宝支付显示的订单信息，怎么过滤了空格..?
name of item ， 显示成了 nameofitem， 是支付宝过滤的空格还是bmob过滤的？这样英文显示不了</p>
<p>A:是我们过滤的，文档中有描述的哦“商品名及商品描述只支持输入中文、英语、数字、下划线(_)及英文破折号(-)，其余字符自动过滤”，这个是由于支付宝那边是这么要求的，如果有除了刚刚说的那些字符外的其它字符会报错，因此我们这边主动过滤了。</p>
<hr />
<p>Q:开启验证后数据服务正常但发起支付提示verify error: sign incorrect.</p>
<p>A:你在后台开启了应用安全验证并填写了签名，可以在调试时先关掉。发布正式版本时开启</p>
<hr />
<p>Q:bmob plugin isn't installed 支付这个是什么问题</p>
<p>A:支付功能需要先安装支付插件才能使用</p>
<hr />
<p>Q:为什么一直提示支付中断，必须使用支付宝先发起一次支付请求后，然后切换为微信支付，点击支付后才可提示获取订单成功，并跳转至微信支付页面</p>
<p>A:这个问题是因为部分手机（小米手机）不允许未打开过Activity的App访问网络的权限，而支付宝需要先打开Activity，所以可以成功，但微信支付首先是在Service中调用，所以网络请求被拒绝。解决的办法是在BP.pay方法调用之前加上如下代码：</p>
<pre><code class="java">try {
    Intent intent = new Intent(Intent.ACTION_MAIN);
    intent.addCategory(Intent.CATEGORY_LAUNCHER);
    ComponentName cn = new ComponentName(&quot;com.bmob.app.sport&quot;,
            &quot;com.bmob.app.sport.wxapi.BmobActivity&quot;);
    intent.setComponent(cn);
    this.startActivity(intent);
} catch (Throwable e) {
    e.printStackTrace();
}
这段代码加在BP.pay方法调用之前
</code></pre>

<hr />
<p>Q:unity怎么使用Bmob的支付呢？</p>
<p>A:参考<a href="http://blog.csdn.net/qq_33747722/article/details/53408000">这里</a></p>
<hr />
                    </div>
                </div>
        </div>

        <footer class="col-md-12">
                <p>Copyright © 2017 Bmob, Maintained by the Bmob Support.</p>
            <!--<p>Copyright © 2017 Bmob, Maintained by the Bmob Support.</p>-->
        </footer>
        <script>var base_url = '../../..';</script>
        <script src="../../../js/base.js"></script>
        <script src="../../../search/require.js"></script>
        <script src="../../../search/search.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">搜索</h4>
            </div>
            <div class="modal-body">
                <p>
                    请输入您要搜索的内容
                </p>
                <form role="form">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="Keyboard Shortcuts Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Keyboard Shortcuts</h4>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td><kbd>&larr;</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td><kbd>&rarr;</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>


    <div id="go-top"><i class="fa fa-chevron-up"></i></div>
    <a href="https://docs.bmob.cn/data/Android/a_faststart/doc/index.html" id="back" target="_blank">返回 <br> 旧版</a>


    </body>
</html>
